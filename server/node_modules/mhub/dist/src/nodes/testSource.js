"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const message_1 = require("../message");
const pubsub = require("../pubsub");
class TestSource extends pubsub.BaseSource {
    constructor(name, options) {
        super(name);
        const topic = options && options.topic || "blib";
        const interval = options && options.interval || 5000;
        let blibCount = 0;
        const sender = () => { this._broadcast(new message_1.default(topic, blibCount++)); };
        // setTimeout(sender, 0); // Send one right away TODO make this wait for init to be complete!
        setInterval(sender, interval);
    }
}
exports.TestSource = TestSource;
exports.default = TestSource;
//# sourceMappingURL=testSource.js.map